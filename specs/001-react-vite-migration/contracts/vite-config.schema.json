{
  "$schema": "http://json-schema.org/draft-07/schema#",
  "description": "Schema for vite.config.ts configuration file",
  "examples": [
    {
      "build": {
        "outDir": "dist",
        "sourcemap": false
      },
      "plugins": [
        { "name": "vite:react-swc" },
        { "name": "configure-response-headers" }
      ],
      "resolve": {
        "alias": {
          "@": "/home/user/project/src"
        }
      },
      "server": {
        "https": true,
        "port": 3000
      }
    }
  ],
  "properties": {
    "build": {
      "properties": {
        "minify": {
          "default": "esbuild",
          "enum": ["terser", "esbuild"],
          "type": "string"
        },
        "outDir": {
          "default": "dist",
          "description": "Build output directory",
          "type": "string"
        },
        "sourcemap": {
          "default": false,
          "description": "Generate source maps",
          "type": "boolean"
        }
      },
      "type": "object"
    },
    "plugins": {
      "description": "Array of Vite plugins",
      "items": {
        "properties": {
          "name": {
            "description": "Plugin name",
            "type": "string"
          }
        },
        "type": "object"
      },
      "minItems": 1,
      "type": "array"
    },
    "resolve": {
      "properties": {
        "alias": {
          "properties": {
            "@": {
              "description": "Path alias for src directory",
              "pattern": "^/.*src$",
              "type": "string"
            }
          },
          "required": ["@"],
          "type": "object"
        }
      },
      "required": ["alias"],
      "type": "object"
    },
    "server": {
      "properties": {
        "https": {
          "description": "HTTPS configuration for WebRTC support",
          "oneOf": [
            { "const": true, "type": "boolean" },
            {
              "properties": {
                "cert": { "type": "string" },
                "key": { "type": "string" }
              },
              "type": "object"
            }
          ]
        },
        "port": {
          "default": 3000,
          "description": "Dev server port",
          "maximum": 65535,
          "minimum": 1024,
          "type": "number"
        }
      },
      "required": ["https"],
      "type": "object"
    }
  },
  "required": ["plugins", "resolve", "server"],
  "title": "Vite Configuration Contract",
  "type": "object"
}
